!function(e){var t={};function n(u){if(t[u])return t[u].exports;var r=t[u]={i:u,l:!1,exports:{}};return e[u].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,u){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:u})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}({1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=window.jQuery,n=Vue.http;e=t.extend({ns:"LPRequest",store:!1},e||{});var u=null;LP.Request=function(r){return u=t("#publishing-action"),r.id=e.store.getters.id,r.nonce=e.store.getters.nonce,r["lp-ajax"]=e.store.getters.action,r.code=e.store.getters.code,u.find("#publish").addClass("disabled"),u.find(".spinner").addClass("is-active"),u.addClass("code-"+r.code),n.post(e.store.getters.urlAjax,r,{emulateJSON:!0,params:{namespace:e.ns,code:r.code}})},n.interceptors.push(function(t,n){t.params.namespace===e.ns?(e.store.dispatch("newRequest"),n(function(n){jQuery.isPlainObject(n.body)||(n.body=LP.parseJSON(n.body));var r=n.body,o=r.success||!1;o?e.store.dispatch("requestCompleted","successful"):e.store.dispatch("requestCompleted","failed"),u.removeClass("code-"+t.params.code),u.attr("class")||(u.find("#publish").removeClass("disabled"),u.find(".spinner").removeClass("is-active"))})):n()})}},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={changeQuestionType:function(e,t){LP.Request({type:"change-question-type",question_type:t.type,draft_question:e.getters.autoDraft?JSON.stringify(t.question):""}).then(function(t){var n=t.body;n.success&&(e.commit("UPDATE_AUTO_DRAFT_STATUS",!1),e.commit("CHANGE_QUESTION_TYPE",n.data))})},updateAnswersOrder:function(e,t){LP.Request({type:"sort-answer",order:t}).then(function(e){e.body.success})},updateAnswerTitle:function(e,t){void 0!==t.question_answer_id&&(t=JSON.stringify(t),LP.Request({type:"update-answer-title",answer:t}))},updateCorrectAnswer:function(e,t){LP.Request({type:"change-correct",correct:JSON.stringify(t)}).then(function(t){var n=t.body;n.success&&(e.commit("UPDATE_ANSWERS",n.data),e.commit("UPDATE_AUTO_DRAFT_STATUS",!1))})},deleteAnswer:function(e,t){e.commit("DELETE_ANSWER",t.id),LP.Request({type:"delete-answer",answer_id:t.id}).then(function(t){var n=t.body;n.success&&e.commit("SET_ANSWERS",n.data)})},newAnswer:function(e,t){e.commit("ADD_NEW_ANSWER",t.answer),LP.Request({type:"new-answer"}).then(function(t){var n=t.body;n.success&&e.commit("UPDATE_ANSWERS",n.data)})},newRequest:function(e){e.commit("INCREASE_NUMBER_REQUEST"),e.commit("UPDATE_STATUS","loading"),window.onbeforeunload=function(){return""}},requestCompleted:function(e,t){e.commit("DECREASE_NUMBER_REQUEST"),0===e.getters.currentRequest&&(e.commit("UPDATE_STATUS",t),window.onbeforeunload=null)}};t.default=u},19:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={UPDATE_STATUS:function(e,t){e.status=t},UPDATE_AUTO_DRAFT_STATUS:function(e,t){e.auto_draft=t},CHANGE_QUESTION_TYPE:function(e,t){e.answers=t.answers,e.type=t.type},SET_ANSWERS:function(e,t){e.answers=t},DELETE_ANSWER:function(e,t){for(var n=0,u=e.answers.length;n<u;n++)if(e.answers[n].question_answer_id==t){e.answers[n].question_answer_id=LP.uniqueId();break}},ADD_NEW_ANSWER:function(e,t){e.answers.push(t)},UPDATE_ANSWERS:function(e,t){e.answers=t},INCREASE_NUMBER_REQUEST:function(e){e.countCurrentRequest++},DECREASE_NUMBER_REQUEST:function(e){e.countCurrentRequest--}};t.default=u},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u={id:function(e){return e.id},type:function(e){return e.type},code:function(e){return Date.now()},autoDraft:function(e){return e.auto_draft},answers:function(e){return Object.values(e.answers)||[]},settings:function(e){return e.setting},types:function(e){return e.questionTypes||[]},numberCorrect:function(e){var t=0;return Object.keys(e.answers).forEach(function(n){"yes"===e.answers[n].is_true&&(t+=1)}),t},status:function(e){return e.status},currentRequest:function(e){return e.countCurrentRequest||0},action:function(e){return e.action},nonce:function(e){return e.nonce},externalComponent:function(e){return e.externalComponent||[]},state:function(e){return e},i18n:function(e){return e.i18n}};t.default=u},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(20)),r=s(n(19)),o=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}var i=window.jQuery;t.default=function(e){return{state:i.extend({status:"successful",countCurrentRequest:0,i18n:i.extend({},e.i18n)},e.root),getters:u.default,mutations:r.default,actions:o.default}}},22:function(e,t,n){"use strict";var u=o(n(1)),r=o(n(21));function o(e){return e&&e.__esModule?e:{default:e}}window.$Vue=window.$Vue||Vue,window.$Vuex=window.$Vuex||Vuex,(0,window.jQuery)(document).ready(function(){window.LP_Question_Store=new $Vuex.Store((0,r.default)(lp_question_editor)),(0,u.default)({ns:"LPQuestionEditorRequest",store:LP_Question_Store}),setTimeout(function(){window.LP_Question_Editor=new $Vue({el:"#admin-editor-lp_question",template:"<lp-question-editor></lp-question-editor>"})},100)})}});